(this.webpackJsonpotamatone=this.webpackJsonpotamatone||[]).push([[1],{42:function(e,n,t){},49:function(e,n,t){var r={"./ion-action-sheet.entry.js":[55,5],"./ion-alert.entry.js":[56,6],"./ion-app_8.entry.js":[57,7],"./ion-avatar_3.entry.js":[58,17],"./ion-back-button.entry.js":[59,18],"./ion-backdrop.entry.js":[60,44],"./ion-button_2.entry.js":[61,19],"./ion-card_5.entry.js":[62,20],"./ion-checkbox.entry.js":[63,21],"./ion-chip.entry.js":[64,22],"./ion-col_3.entry.js":[65,45],"./ion-datetime_3.entry.js":[66,10],"./ion-fab_3.entry.js":[67,23],"./ion-img.entry.js":[68,46],"./ion-infinite-scroll_2.entry.js":[69,47],"./ion-input.entry.js":[70,24],"./ion-item-option_3.entry.js":[71,25],"./ion-item_8.entry.js":[72,26],"./ion-loading.entry.js":[73,27],"./ion-menu_3.entry.js":[74,28],"./ion-modal.entry.js":[75,8],"./ion-nav_2.entry.js":[76,14],"./ion-popover.entry.js":[77,9],"./ion-progress-bar.entry.js":[78,29],"./ion-radio_2.entry.js":[79,30],"./ion-range.entry.js":[80,31],"./ion-refresher_2.entry.js":[81,11],"./ion-reorder_2.entry.js":[82,16],"./ion-ripple-effect.entry.js":[83,48],"./ion-route_4.entry.js":[84,32],"./ion-searchbar.entry.js":[85,33],"./ion-segment_2.entry.js":[86,34],"./ion-select_3.entry.js":[87,35],"./ion-slide_2.entry.js":[88,49],"./ion-spinner.entry.js":[89,13],"./ion-split-pane.entry.js":[90,50],"./ion-tab-bar_2.entry.js":[91,36],"./ion-tab_2.entry.js":[92,15],"./ion-text.entry.js":[93,37],"./ion-textarea.entry.js":[94,38],"./ion-toast.entry.js":[95,39],"./ion-toggle.entry.js":[96,12],"./ion-virtual-scroll.entry.js":[97,51]};function i(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],i=n[0];return t.e(n[1]).then((function(){return t(i)}))}i.keys=function(){return Object.keys(r)},i.id=49,e.exports=i},51:function(e,n,t){var r={"./ion-icon.entry.js":[98,57]};function i(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],i=n[0];return t.e(n[1]).then((function(){return t(i)}))}i.keys=function(){return Object.keys(r)},i.id=51,e.exports=i},53:function(e,n,t){"use strict";t.r(n);t(40),t(41),t(42);var r=t(22),i=t(4),o=t.n(i),a=t(16),c=t(17),s=t(10),j=t(0),u=t(5);function l(){var e=Object(j.useRef)(),n=Object(j.useRef)(),t=Object(j.useRef)(),r=Object(j.useState)(.25),i=Object(c.a)(r,2),l=i[0],d=i[1],y=Object(j.useState)(.4),b=Object(c.a)(y,2),h=b[0],f=b[1],v=Object(j.useState)(.4),O=Object(c.a)(v,2),x=O[0],g=O[1];return Object(j.useEffect)((function(){!function r(){var i=e.current,o=n.current;if(i&&o){var a=i.getContext("2d");if(a.clearRect(0,-i.height/2,i.width,i.height),i.width=o.clientWidth,i.height=o.clientHeight,t.current){var c=i.width,s=i.height,j=t.current.analyserNode,u=new Float32Array(j.frequencyBinCount);j.getFloatFrequencyData(u),function(e,n,t,r){var i=n/r.length;e.save(),e.translate(0,t),e.scale(1,-1),e.fillStyle="blue",e.beginPath(),r.forEach((function(n,r){var o=i*r,a=(1+n/128)*t;e.fillRect(o,0,i,a)})),e.stroke(),e.restore()}(a,c,s,u),j.getFloatTimeDomainData(u),function(e,n,t,r){var i=n/r.length;e.save(),e.translate(0,t/2),e.scale(1,-1),e.strokeStyle="white",e.lineWidth=3,e.beginPath(),r.forEach((function(n,r){var o=i*r,a=n*t/2;0===r?e.moveTo(o,a):e.lineTo(o,a)})),e.stroke(),e.restore()}(a,c,s,u)}}requestAnimationFrame(r)}()}),[]),Object(u.jsx)(s.a,{children:Object(u.jsxs)(s.k,{contentId:"main",children:[Object(u.jsxs)(s.h,{contentId:"main",children:[Object(u.jsx)(s.d,{children:Object(u.jsx)(s.l,{})}),Object(u.jsxs)(s.c,{children:[Object(u.jsxs)(s.g,{children:[Object(u.jsxs)(s.e,{children:[Object(u.jsx)(s.f,{children:"Delay"}),Object(u.jsx)(s.j,{value:l,min:"0",max:"1",step:"0.01",onIonChange:function(e){var n=+e.target.value;d(n),t.current&&(t.current.delayNode.delayTime.value=n)}})]}),Object(u.jsxs)(s.e,{children:[Object(u.jsx)(s.f,{children:"Feedback"}),Object(u.jsx)(s.j,{value:h,min:"0",max:"1",step:"0.01",onIonChange:function(e){var n=+e.target.value;f(l),t.current&&(t.current.feedbackGainNode.gain.value=n)}})]}),Object(u.jsxs)(s.e,{children:[Object(u.jsx)(s.f,{children:"Mix"}),Object(u.jsx)(s.j,{value:x,min:"0",max:"1",step:"0.01",onIonChange:function(e){var n=+e.target.value;g(n),t.current&&(t.current.wetGainNode.gain.value=n,t.current.dryGainNode.gain.value=1-n)}})]})]}),Object(u.jsx)(s.b,{className:"ion-margin",color:"light",expand:"block",onClick:Object(a.a)(o.a.mark((function e(){var n,r,i,a,c,s,j,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new AudioContext,r=n.createGain(),(i=n.createDelay()).delayTime.value=l,(a=n.createGain()).gain.value=x,(c=n.createGain()).gain.value=1-x,(s=n.createGain()).gain.value=h,j=n.createGain(),(u=n.createAnalyser()).fftSize=2048,e.next=15,navigator.mediaDevices.getUserMedia({audio:!0});case 15:d=e.sent,n.createMediaStreamSource(d).connect(r),r.connect(i).connect(a).connect(j),i.connect(s).connect(i),r.connect(c).connect(j),j.connect(u).connect(n.destination),t.current={context:n,inputGainNode:r,delayNode:i,wetGainNode:a,dryGainNode:c,feedbackGainNode:s,outputGainNode:j,analyserNode:u};case 23:case"end":return e.stop()}}),e)}))),children:"start"})]})]}),Object(u.jsxs)(s.i,{id:"main",children:[Object(u.jsx)(s.d,{children:Object(u.jsx)(s.l,{})}),Object(u.jsx)(s.c,{ref:n,children:Object(u.jsx)("canvas",{ref:e})})]})]})})}Object(r.render)(Object(u.jsx)(l,{}),document.querySelector("#content"))}},[[53,3,4]]]);
//# sourceMappingURL=main.059b7c5f.chunk.js.map